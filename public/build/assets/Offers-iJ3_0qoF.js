import{R as p,r as F}from"./FilterContainer-TykbAVkI.js";import{c as Nr}from"./ReactAppend-GBOQKLDe.js";import{C as Dr}from"./CreateReactScript-Il069F1S.js";import{m as Be}from"./SelectAPIFormGroup-A251JnnE.js";import{S as ft}from"./OfferCard-Wbn3Y7Zw.js";import{r as Sr}from"./index-GBzf7Cls.js";import"./TippyButton-w0wM3ydO.js";import{R as er}from"./OfferForm-ukR-vBLm.js";import{a as Lt}from"./arrayJoin-X0k7NUGR.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./CreateReactScript-Hm6EbMAE.js";import"./axios-_sX4vCAy.js";import"./index-VFMbf6KQ.js";const Rr=({item:e,offers:t,setOffers:r,onOpenModalClicked:n})=>{const a=e.products.sort((i,d)=>{var f,b;return(((f=d==null?void 0:d.pivot)==null?void 0:f.isParent)||0)-(((b=i==null?void 0:i.pivot)==null?void 0:b.isParent)||0)}).slice(0,4).map(i=>i.producto),s=e.products.length,u=async i=>{const{isConfirmed:d}=await ft.fire({title:"Eliminar Oferta",text:`¿Estás seguro de que deseas eliminar la oferta "${e.producto}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"});if(d)try{const{status:f,result:b}=await Be.Fetch(`/api/offers/${i}`,{method:"DELETE"});if(!f)throw new Error((b==null?void 0:b.message)??"Ocurrió un error al eliminar la oferta.");ft.fire("¡Eliminado!","La oferta ha sido eliminada correctamente.","success");const A=structuredClone(t).filter(h=>h.id!==i);r(A)}catch(f){ft.fire("¡Error!",f.message,"error")}},l=async(i,d)=>{$(i.target).parents('[id^="dropdown-menu-"]').addClass("hidden").removeClass("block"),n(d)};return p.createElement("li",{key:`offer-${e.id}`},p.createElement("div",{className:"inline-flex items-center justify-between w-[300px] p-5 text-gray-500 bg-white border-2 border-gray-200 rounded-lg dark:border-gray-700 peer-checked:border-blue-600  dark:peer-checked:text-gray-300 peer-checked:text-gray-600  dark:text-gray-400 dark:bg-gray-800"},p.createElement("div",{className:"block w-full"},p.createElement("div",{className:"flex items-center justify-between w-full"},p.createElement("h4",{className:"flex gap-2"},p.createElement("span",{className:"text-[#006BF6] text-[16.45px] font-bold text-xl"},"S/. ",e.descuento>0?e.descuento:e.precio),e.descuento>0&&p.createElement("span",{className:"text-sm text-[#15294C] opacity-60 line-through"},e.precio)),p.createElement("div",null,p.createElement("button",{id:`dropdown-button-${e.id}`,"data-dropdown-toggle":`dropdown-menu-${e.id}`,className:"inline-flex items-center p-2 text-sm font-medium text-center text-gray-900 bg-white rounded-lg outline-none dark:text-white dark:bg-gray-800",type:"button"},p.createElement("i",{className:"fas fa-ellipsis-v"})),p.createElement("div",{id:`dropdown-menu-${e.id}`,className:"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 dark:divide-gray-600"},p.createElement("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownMenuIconButton"},p.createElement("li",null,p.createElement("a",{"data-dropdown-hide":`dropdown-menu-${e.id}`,className:"block cursor-pointer px-4 py-2 hover:bg-gray-600 dark:hover:bg-gray-100",onClick:i=>l(i,e)},"Ver productos")),p.createElement("li",null,p.createElement("a",{"data-dropdown-hide":`dropdown-menu-${e.id}`,className:"block cursor-pointer px-4 py-2 hover:bg-gray-600 dark:hover:bg-gray-100",onClick:()=>u(e.id)},"Eliminar")))))),p.createElement("div",{className:"w-full text-lg font-semibold"},e.producto),p.createElement("hr",{className:"my-2"}),p.createElement("div",{className:"w-full text-sm h-20 overflow-hidden"},s>0?a.map((i,d)=>d>=3&&s>4?p.createElement("p",{key:`product-${d}`,className:"w-full text-nowrap overflow-hidden text-ellipsis"},s-3," productos mas"):p.createElement("p",{key:`product-${d}`,className:"w-full text-nowrap overflow-hidden text-ellipsis"},d==0?p.createElement("b",null,i):i)):p.createElement("i",{className:"text-gray-400"},"- No hay productos asociados -")))))};var X="top",G="bottom",Q="right",_="left",Et="auto",Ve=[X,G,Q,_],Te="start",Fe="end",Lr="clippingParents",tr="viewport",je="popper",Pr="reference",Pt=Ve.reduce(function(e,t){return e.concat([t+"-"+Te,t+"-"+Fe])},[]),rr=[].concat(Ve,[Et]).reduce(function(e,t){return e.concat([t,t+"-"+Te,t+"-"+Fe])},[]),$r="beforeRead",jr="read",Br="afterRead",Mr="beforeMain",Ir="main",Hr="afterMain",Fr="beforeWrite",Wr="write",Vr="afterWrite",Ur=[$r,jr,Br,Mr,Ir,Hr,Fr,Wr,Vr];function oe(e){return e?(e.nodeName||"").toLowerCase():null}function Y(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ye(e){var t=Y(e).Element;return e instanceof t||e instanceof Element}function K(e){var t=Y(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ot(e){if(typeof ShadowRoot>"u")return!1;var t=Y(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function qr(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},a=t.attributes[r]||{},s=t.elements[r];!K(s)||!oe(s)||(Object.assign(s.style,n),Object.keys(a).forEach(function(u){var l=a[u];l===!1?s.removeAttribute(u):s.setAttribute(u,l===!0?"":l)}))})}function zr(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var a=t.elements[n],s=t.attributes[n]||{},u=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),l=u.reduce(function(i,d){return i[d]="",i},{});!K(a)||!oe(a)||(Object.assign(a.style,l),Object.keys(s).forEach(function(i){a.removeAttribute(i)}))})}}const nr={name:"applyStyles",enabled:!0,phase:"write",fn:qr,effect:zr,requires:["computeStyles"]};function ne(e){return e.split("-")[0]}var be=Math.max,at=Math.min,Ce=Math.round;function ht(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function or(){return!/^((?!chrome|android).)*safari/i.test(ht())}function Ne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&K(e)&&(a=e.offsetWidth>0&&Ce(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ce(n.height)/e.offsetHeight||1);var u=ye(e)?Y(e):window,l=u.visualViewport,i=!or()&&r,d=(n.left+(i&&l?l.offsetLeft:0))/a,f=(n.top+(i&&l?l.offsetTop:0))/s,b=n.width/a,A=n.height/s;return{width:b,height:A,top:f,right:d+b,bottom:f+A,left:d,x:d,y:f}}function kt(e){var t=Ne(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function ar(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Ot(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ue(e){return Y(e).getComputedStyle(e)}function Xr(e){return["table","td","th"].indexOf(oe(e))>=0}function pe(e){return((ye(e)?e.ownerDocument:e.document)||window.document).documentElement}function st(e){return oe(e)==="html"?e:e.assignedSlot||e.parentNode||(Ot(e)?e.host:null)||pe(e)}function $t(e){return!K(e)||ue(e).position==="fixed"?null:e.offsetParent}function _r(e){var t=/firefox/i.test(ht()),r=/Trident/i.test(ht());if(r&&K(e)){var n=ue(e);if(n.position==="fixed")return null}var a=st(e);for(Ot(a)&&(a=a.host);K(a)&&["html","body"].indexOf(oe(a))<0;){var s=ue(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Ue(e){for(var t=Y(e),r=$t(e);r&&Xr(r)&&ue(r).position==="static";)r=$t(r);return r&&(oe(r)==="html"||oe(r)==="body"&&ue(r).position==="static")?t:r||_r(e)||t}function At(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Me(e,t,r){return be(e,at(t,r))}function Yr(e,t,r){var n=Me(e,t,r);return n>r?r:n}function ir(){return{top:0,right:0,bottom:0,left:0}}function sr(e){return Object.assign({},ir(),e)}function cr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Jr=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,sr(typeof t!="number"?t:cr(t,Ve))};function Kr(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,u=r.modifiersData.popperOffsets,l=ne(r.placement),i=At(l),d=[_,Q].indexOf(l)>=0,f=d?"height":"width";if(!(!s||!u)){var b=Jr(a.padding,r),A=kt(s),h=i==="y"?X:_,k=i==="y"?G:Q,y=r.rects.reference[f]+r.rects.reference[i]-u[i]-r.rects.popper[f],x=u[i]-r.rects.reference[i],N=Ue(s),S=N?i==="y"?N.clientHeight||0:N.clientWidth||0:0,j=y/2-x/2,o=b[h],C=S-A[f]-b[k],v=S/2-A[f]/2+j,L=Me(o,v,C),O=i;r.modifiersData[n]=(t={},t[O]=L,t.centerOffset=L-v,t)}}function Gr(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||ar(t.elements.popper,a)&&(t.elements.arrow=a))}const Qr={name:"arrow",enabled:!0,phase:"main",fn:Kr,effect:Gr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function De(e){return e.split("-")[1]}var Zr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function en(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Ce(r*a)/a||0,y:Ce(n*a)/a||0}}function jt(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,u=e.offsets,l=e.position,i=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,b=e.isFixed,A=u.x,h=A===void 0?0:A,k=u.y,y=k===void 0?0:k,x=typeof f=="function"?f({x:h,y}):{x:h,y};h=x.x,y=x.y;var N=u.hasOwnProperty("x"),S=u.hasOwnProperty("y"),j=_,o=X,C=window;if(d){var v=Ue(r),L="clientHeight",O="clientWidth";if(v===Y(r)&&(v=pe(r),ue(v).position!=="static"&&l==="absolute"&&(L="scrollHeight",O="scrollWidth")),v=v,a===X||(a===_||a===Q)&&s===Fe){o=G;var g=b&&v===C&&C.visualViewport?C.visualViewport.height:v[L];y-=g-n.height,y*=i?1:-1}if(a===_||(a===X||a===G)&&s===Fe){j=Q;var E=b&&v===C&&C.visualViewport?C.visualViewport.width:v[O];h-=E-n.width,h*=i?1:-1}}var R=Object.assign({position:l},d&&Zr),B=f===!0?en({x:h,y},Y(r)):{x:h,y};if(h=B.x,y=B.y,i){var M;return Object.assign({},R,(M={},M[o]=S?"0":"",M[j]=N?"0":"",M.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",M))}return Object.assign({},R,(t={},t[o]=S?y+"px":"",t[j]=N?h+"px":"",t.transform="",t))}function tn(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,u=s===void 0?!0:s,l=r.roundOffsets,i=l===void 0?!0:l,d={placement:ne(t.placement),variation:De(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,jt(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,jt(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const rn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tn,data:{}};var rt={passive:!0};function nn(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=a===void 0?!0:a,u=n.resize,l=u===void 0?!0:u,i=Y(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(f){f.addEventListener("scroll",r.update,rt)}),l&&i.addEventListener("resize",r.update,rt),function(){s&&d.forEach(function(f){f.removeEventListener("scroll",r.update,rt)}),l&&i.removeEventListener("resize",r.update,rt)}}const on={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nn,data:{}};var an={left:"right",right:"left",bottom:"top",top:"bottom"};function ot(e){return e.replace(/left|right|bottom|top/g,function(t){return an[t]})}var sn={start:"end",end:"start"};function Bt(e){return e.replace(/start|end/g,function(t){return sn[t]})}function Tt(e){var t=Y(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ct(e){return Ne(pe(e)).left+Tt(e).scrollLeft}function cn(e,t){var r=Y(e),n=pe(e),a=r.visualViewport,s=n.clientWidth,u=n.clientHeight,l=0,i=0;if(a){s=a.width,u=a.height;var d=or();(d||!d&&t==="fixed")&&(l=a.offsetLeft,i=a.offsetTop)}return{width:s,height:u,x:l+Ct(e),y:i}}function un(e){var t,r=pe(e),n=Tt(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=be(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=be(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+Ct(e),i=-n.scrollTop;return ue(a||r).direction==="rtl"&&(l+=be(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:u,x:l,y:i}}function Nt(e){var t=ue(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function ur(e){return["html","body","#document"].indexOf(oe(e))>=0?e.ownerDocument.body:K(e)&&Nt(e)?e:ur(st(e))}function Ie(e,t){var r;t===void 0&&(t=[]);var n=ur(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=Y(n),u=a?[s].concat(s.visualViewport||[],Nt(n)?n:[]):n,l=t.concat(u);return a?l:l.concat(Ie(st(u)))}function bt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ln(e,t){var r=Ne(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Mt(e,t,r){return t===tr?bt(cn(e,r)):ye(t)?ln(t,r):bt(un(pe(e)))}function fn(e){var t=Ie(st(e)),r=["absolute","fixed"].indexOf(ue(e).position)>=0,n=r&&K(e)?Ue(e):e;return ye(n)?t.filter(function(a){return ye(a)&&ar(a,n)&&oe(a)!=="body"}):[]}function pn(e,t,r,n){var a=t==="clippingParents"?fn(e):[].concat(t),s=[].concat(a,[r]),u=s[0],l=s.reduce(function(i,d){var f=Mt(e,d,n);return i.top=be(f.top,i.top),i.right=at(f.right,i.right),i.bottom=at(f.bottom,i.bottom),i.left=be(f.left,i.left),i},Mt(e,u,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function lr(e){var t=e.reference,r=e.element,n=e.placement,a=n?ne(n):null,s=n?De(n):null,u=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,i;switch(a){case X:i={x:u,y:t.y-r.height};break;case G:i={x:u,y:t.y+t.height};break;case Q:i={x:t.x+t.width,y:l};break;case _:i={x:t.x-r.width,y:l};break;default:i={x:t.x,y:t.y}}var d=a?At(a):null;if(d!=null){var f=d==="y"?"height":"width";switch(s){case Te:i[d]=i[d]-(t[f]/2-r[f]/2);break;case Fe:i[d]=i[d]+(t[f]/2-r[f]/2);break}}return i}function We(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,s=r.strategy,u=s===void 0?e.strategy:s,l=r.boundary,i=l===void 0?Lr:l,d=r.rootBoundary,f=d===void 0?tr:d,b=r.elementContext,A=b===void 0?je:b,h=r.altBoundary,k=h===void 0?!1:h,y=r.padding,x=y===void 0?0:y,N=sr(typeof x!="number"?x:cr(x,Ve)),S=A===je?Pr:je,j=e.rects.popper,o=e.elements[k?S:A],C=pn(ye(o)?o:o.contextElement||pe(e.elements.popper),i,f,u),v=Ne(e.elements.reference),L=lr({reference:v,element:j,strategy:"absolute",placement:a}),O=bt(Object.assign({},j,L)),g=A===je?O:v,E={top:C.top-g.top+N.top,bottom:g.bottom-C.bottom+N.bottom,left:C.left-g.left+N.left,right:g.right-C.right+N.right},R=e.modifiersData.offset;if(A===je&&R){var B=R[a];Object.keys(E).forEach(function(M){var I=[Q,G].indexOf(M)>=0?1:-1,T=[X,G].indexOf(M)>=0?"y":"x";E[M]+=B[T]*I})}return E}function dn(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,u=r.padding,l=r.flipVariations,i=r.allowedAutoPlacements,d=i===void 0?rr:i,f=De(n),b=f?l?Pt:Pt.filter(function(k){return De(k)===f}):Ve,A=b.filter(function(k){return d.indexOf(k)>=0});A.length===0&&(A=b);var h=A.reduce(function(k,y){return k[y]=We(e,{placement:y,boundary:a,rootBoundary:s,padding:u})[ne(y)],k},{});return Object.keys(h).sort(function(k,y){return h[k]-h[y]})}function vn(e){if(ne(e)===Et)return[];var t=ot(e);return[Bt(e),t,Bt(t)]}function mn(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,u=r.altAxis,l=u===void 0?!0:u,i=r.fallbackPlacements,d=r.padding,f=r.boundary,b=r.rootBoundary,A=r.altBoundary,h=r.flipVariations,k=h===void 0?!0:h,y=r.allowedAutoPlacements,x=t.options.placement,N=ne(x),S=N===x,j=i||(S||!k?[ot(x)]:vn(x)),o=[x].concat(j).reduce(function(ae,Z){return ae.concat(ne(Z)===Et?dn(t,{placement:Z,boundary:f,rootBoundary:b,padding:d,flipVariations:k,allowedAutoPlacements:y}):Z)},[]),C=t.rects.reference,v=t.rects.popper,L=new Map,O=!0,g=o[0],E=0;E<o.length;E++){var R=o[E],B=ne(R),M=De(R)===Te,I=[X,G].indexOf(B)>=0,T=I?"width":"height",V=We(t,{placement:R,boundary:f,rootBoundary:b,altBoundary:A,padding:d}),W=I?M?Q:_:M?G:X;C[T]>v[T]&&(W=ot(W));var H=ot(W),q=[];if(s&&q.push(V[B]<=0),l&&q.push(V[W]<=0,V[H]<=0),q.every(function(ae){return ae})){g=R,O=!1;break}L.set(R,q)}if(O)for(var U=k?3:1,de=function(Z){var ie=o.find(function(we){var se=L.get(we);if(se)return se.slice(0,Z).every(function(xe){return xe})});if(ie)return g=ie,"break"},te=U;te>0;te--){var ve=de(te);if(ve==="break")break}t.placement!==g&&(t.modifiersData[n]._skip=!0,t.placement=g,t.reset=!0)}}const gn={name:"flip",enabled:!0,phase:"main",fn:mn,requiresIfExists:["offset"],data:{_skip:!1}};function It(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ht(e){return[X,Q,G,_].some(function(t){return e[t]>=0})}function hn(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,u=We(t,{elementContext:"reference"}),l=We(t,{altBoundary:!0}),i=It(u,n),d=It(l,a,s),f=Ht(i),b=Ht(d);t.modifiersData[r]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:b},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":b})}const bn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hn};function yn(e,t,r){var n=ne(e),a=[_,X].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,u=s[0],l=s[1];return u=u||0,l=(l||0)*a,[_,Q].indexOf(n)>=0?{x:l,y:u}:{x:u,y:l}}function wn(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=a===void 0?[0,0]:a,u=rr.reduce(function(f,b){return f[b]=yn(b,t.rects,s),f},{}),l=u[t.placement],i=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=d),t.modifiersData[n]=u}const xn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wn};function En(e){var t=e.state,r=e.name;t.modifiersData[r]=lr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const On={name:"popperOffsets",enabled:!0,phase:"read",fn:En,data:{}};function kn(e){return e==="x"?"y":"x"}function An(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=a===void 0?!0:a,u=r.altAxis,l=u===void 0?!1:u,i=r.boundary,d=r.rootBoundary,f=r.altBoundary,b=r.padding,A=r.tether,h=A===void 0?!0:A,k=r.tetherOffset,y=k===void 0?0:k,x=We(t,{boundary:i,rootBoundary:d,padding:b,altBoundary:f}),N=ne(t.placement),S=De(t.placement),j=!S,o=At(N),C=kn(o),v=t.modifiersData.popperOffsets,L=t.rects.reference,O=t.rects.popper,g=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,E=typeof g=="number"?{mainAxis:g,altAxis:g}:Object.assign({mainAxis:0,altAxis:0},g),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(v){if(s){var M,I=o==="y"?X:_,T=o==="y"?G:Q,V=o==="y"?"height":"width",W=v[o],H=W+x[I],q=W-x[T],U=h?-O[V]/2:0,de=S===Te?L[V]:O[V],te=S===Te?-O[V]:-L[V],ve=t.elements.arrow,ae=h&&ve?kt(ve):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ir(),ie=Z[I],we=Z[T],se=Me(0,L[V],ae[V]),xe=j?L[V]/2-U-se-ie-E.mainAxis:de-se-ie-E.mainAxis,le=j?-L[V]/2+U+se+we+E.mainAxis:te+se+we+E.mainAxis,Ee=t.elements.arrow&&Ue(t.elements.arrow),ze=Ee?o==="y"?Ee.clientTop||0:Ee.clientLeft||0:0,Se=(M=R==null?void 0:R[o])!=null?M:0,Xe=W+xe-Se-ze,_e=W+le-Se,Re=Me(h?at(H,Xe):H,W,h?be(q,_e):q);v[o]=Re,B[o]=Re-W}if(l){var Le,Ye=o==="x"?X:_,Je=o==="x"?G:Q,ce=v[C],fe=C==="y"?"height":"width",Pe=ce+x[Ye],me=ce-x[Je],$e=[X,_].indexOf(N)!==-1,Ke=(Le=R==null?void 0:R[C])!=null?Le:0,Ge=$e?Pe:ce-L[fe]-O[fe]-Ke+E.altAxis,Qe=$e?ce+L[fe]+O[fe]-Ke-E.altAxis:me,Ze=h&&$e?Yr(Ge,ce,Qe):Me(h?Ge:Pe,ce,h?Qe:me);v[C]=Ze,B[C]=Ze-ce}t.modifiersData[n]=B}}const Tn={name:"preventOverflow",enabled:!0,phase:"main",fn:An,requiresIfExists:["offset"]};function Cn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Nn(e){return e===Y(e)||!K(e)?Tt(e):Cn(e)}function Dn(e){var t=e.getBoundingClientRect(),r=Ce(t.width)/e.offsetWidth||1,n=Ce(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Sn(e,t,r){r===void 0&&(r=!1);var n=K(t),a=K(t)&&Dn(t),s=pe(t),u=Ne(e,a,r),l={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(n||!n&&!r)&&((oe(t)!=="body"||Nt(s))&&(l=Nn(t)),K(t)?(i=Ne(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):s&&(i.x=Ct(s))),{x:u.left+l.scrollLeft-i.x,y:u.top+l.scrollTop-i.y,width:u.width,height:u.height}}function Rn(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function a(s){r.add(s.name);var u=[].concat(s.requires||[],s.requiresIfExists||[]);u.forEach(function(l){if(!r.has(l)){var i=t.get(l);i&&a(i)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||a(s)}),n}function Ln(e){var t=Rn(e);return Ur.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Pn(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function $n(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Ft={placement:"bottom",modifiers:[],strategy:"absolute"};function Wt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function jn(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,s=a===void 0?Ft:a;return function(l,i,d){d===void 0&&(d=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ft,s),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},b=[],A=!1,h={state:f,setOptions:function(N){var S=typeof N=="function"?N(f.options):N;y(),f.options=Object.assign({},s,f.options,S),f.scrollParents={reference:ye(l)?Ie(l):l.contextElement?Ie(l.contextElement):[],popper:Ie(i)};var j=Ln($n([].concat(n,f.options.modifiers)));return f.orderedModifiers=j.filter(function(o){return o.enabled}),k(),h.update()},forceUpdate:function(){if(!A){var N=f.elements,S=N.reference,j=N.popper;if(Wt(S,j)){f.rects={reference:Sn(S,Ue(j),f.options.strategy==="fixed"),popper:kt(j)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(E){return f.modifiersData[E.name]=Object.assign({},E.data)});for(var o=0;o<f.orderedModifiers.length;o++){if(f.reset===!0){f.reset=!1,o=-1;continue}var C=f.orderedModifiers[o],v=C.fn,L=C.options,O=L===void 0?{}:L,g=C.name;typeof v=="function"&&(f=v({state:f,options:O,name:g,instance:h})||f)}}}},update:Pn(function(){return new Promise(function(x){h.forceUpdate(),x(f)})}),destroy:function(){y(),A=!0}};if(!Wt(l,i))return h;h.setOptions(d).then(function(x){!A&&d.onFirstUpdate&&d.onFirstUpdate(x)});function k(){f.orderedModifiers.forEach(function(x){var N=x.name,S=x.options,j=S===void 0?{}:S,o=x.effect;if(typeof o=="function"){var C=o({state:f,name:N,instance:h,options:j}),v=function(){};b.push(C||v)}})}function y(){b.forEach(function(x){return x()}),b=[]}return h}}var Bn=[on,On,rn,nr,xn,gn,Tn,Qr,bn],Mn=jn({defaultModifiers:Bn}),In="tippy-box",fr="tippy-content",Hn="tippy-backdrop",pr="tippy-arrow",dr="tippy-svg-arrow",he={passive:!0,capture:!0},vr=function(){return document.body};function pt(e,t,r){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(r)?r[t]:r)}return e}function Dt(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function mr(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Vt(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function Fn(e){return e.split(/\s+/).filter(Boolean)}function Ae(e){return[].concat(e)}function Ut(e,t){e.indexOf(t)===-1&&e.push(t)}function Wn(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function Vn(e){return e.split("-")[0]}function it(e){return[].slice.call(e)}function qt(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function He(){return document.createElement("div")}function ct(e){return["Element","Fragment"].some(function(t){return Dt(e,t)})}function Un(e){return Dt(e,"NodeList")}function qn(e){return Dt(e,"MouseEvent")}function zn(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Xn(e){return ct(e)?[e]:Un(e)?it(e):Array.isArray(e)?e:it(document.querySelectorAll(e))}function dt(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function zt(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function _n(e){var t,r=Ae(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function Yn(e,t){var r=t.clientX,n=t.clientY;return e.every(function(a){var s=a.popperRect,u=a.popperState,l=a.props,i=l.interactiveBorder,d=Vn(u.placement),f=u.modifiersData.offset;if(!f)return!0;var b=d==="bottom"?f.top.y:0,A=d==="top"?f.bottom.y:0,h=d==="right"?f.left.x:0,k=d==="left"?f.right.x:0,y=s.top-n+b>i,x=n-s.bottom-A>i,N=s.left-r+h>i,S=r-s.right-k>i;return y||x||N||S})}function vt(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){e[n](a,r)})}function Xt(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var re={isTouch:!1},_t=0;function Jn(){re.isTouch||(re.isTouch=!0,window.performance&&document.addEventListener("mousemove",gr))}function gr(){var e=performance.now();e-_t<20&&(re.isTouch=!1,document.removeEventListener("mousemove",gr)),_t=e}function Kn(){var e=document.activeElement;if(zn(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Gn(){document.addEventListener("touchstart",Jn,he),window.addEventListener("blur",Kn)}var Qn=typeof window<"u"&&typeof document<"u",Zn=Qn?!!window.msCrypto:!1,eo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},to={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ee=Object.assign({appendTo:vr,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},eo,to),ro=Object.keys(ee),no=function(t){var r=Object.keys(t);r.forEach(function(n){ee[n]=t[n]})};function hr(e){var t=e.plugins||[],r=t.reduce(function(n,a){var s=a.name,u=a.defaultValue;if(s){var l;n[s]=e[s]!==void 0?e[s]:(l=ee[s])!=null?l:u}return n},{});return Object.assign({},e,r)}function oo(e,t){var r=t?Object.keys(hr(Object.assign({},ee,{plugins:t}))):ro,n=r.reduce(function(a,s){var u=(e.getAttribute("data-tippy-"+s)||"").trim();if(!u)return a;if(s==="content")a[s]=u;else try{a[s]=JSON.parse(u)}catch{a[s]=u}return a},{});return n}function Yt(e,t){var r=Object.assign({},t,{content:mr(t.content,[e])},t.ignoreAttributes?{}:oo(e,t.plugins));return r.aria=Object.assign({},ee.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var ao=function(){return"innerHTML"};function yt(e,t){e[ao()]=t}function Jt(e){var t=He();return e===!0?t.className=pr:(t.className=dr,ct(e)?t.appendChild(e):yt(t,e)),t}function Kt(e,t){ct(t.content)?(yt(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?yt(e,t.content):e.textContent=t.content)}function wt(e){var t=e.firstElementChild,r=it(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(fr)}),arrow:r.find(function(n){return n.classList.contains(pr)||n.classList.contains(dr)}),backdrop:r.find(function(n){return n.classList.contains(Hn)})}}function br(e){var t=He(),r=He();r.className=In,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=He();n.className=fr,n.setAttribute("data-state","hidden"),Kt(n,e.props),t.appendChild(r),r.appendChild(n),a(e.props,e.props);function a(s,u){var l=wt(t),i=l.box,d=l.content,f=l.arrow;u.theme?i.setAttribute("data-theme",u.theme):i.removeAttribute("data-theme"),typeof u.animation=="string"?i.setAttribute("data-animation",u.animation):i.removeAttribute("data-animation"),u.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth=typeof u.maxWidth=="number"?u.maxWidth+"px":u.maxWidth,u.role?i.setAttribute("role",u.role):i.removeAttribute("role"),(s.content!==u.content||s.allowHTML!==u.allowHTML)&&Kt(d,e.props),u.arrow?f?s.arrow!==u.arrow&&(i.removeChild(f),i.appendChild(Jt(u.arrow))):i.appendChild(Jt(u.arrow)):f&&i.removeChild(f)}return{popper:t,onUpdate:a}}br.$$tippy=!0;var io=1,nt=[],mt=[];function so(e,t){var r=Yt(e,Object.assign({},ee,hr(qt(t)))),n,a,s,u=!1,l=!1,i=!1,d=!1,f,b,A,h=[],k=Vt(Xe,r.interactiveDebounce),y,x=io++,N=null,S=Wn(r.plugins),j={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},o={id:x,reference:e,popper:He(),popperInstance:N,props:r,state:j,plugins:S,clearDelayTimeouts:Ge,setProps:Qe,setContent:Ze,show:Er,hide:Or,hideWithInteractivity:kr,enable:$e,disable:Ke,unmount:Ar,destroy:Tr};if(!r.render)return o;var C=r.render(o),v=C.popper,L=C.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+o.id,o.popper=v,e._tippy=o,v._tippy=o;var O=S.map(function(c){return c.fn(o)}),g=e.hasAttribute("aria-expanded");return Ee(),U(),W(),H("onCreate",[o]),r.showOnCreate&&Pe(),v.addEventListener("mouseenter",function(){o.props.interactive&&o.state.isVisible&&o.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){o.props.interactive&&o.props.trigger.indexOf("mouseenter")>=0&&I().addEventListener("mousemove",k)}),o;function E(){var c=o.props.touch;return Array.isArray(c)?c:[c,0]}function R(){return E()[0]==="hold"}function B(){var c;return!!((c=o.props.render)!=null&&c.$$tippy)}function M(){return y||e}function I(){var c=M().parentNode;return c?_n(c):document}function T(){return wt(v)}function V(c){return o.state.isMounted&&!o.state.isVisible||re.isTouch||f&&f.type==="focus"?0:pt(o.props.delay,c?0:1,ee.delay)}function W(c){c===void 0&&(c=!1),v.style.pointerEvents=o.props.interactive&&!c?"":"none",v.style.zIndex=""+o.props.zIndex}function H(c,m,w){if(w===void 0&&(w=!0),O.forEach(function(D){D[c]&&D[c].apply(D,m)}),w){var P;(P=o.props)[c].apply(P,m)}}function q(){var c=o.props.aria;if(c.content){var m="aria-"+c.content,w=v.id,P=Ae(o.props.triggerTarget||e);P.forEach(function(D){var z=D.getAttribute(m);if(o.state.isVisible)D.setAttribute(m,z?z+" "+w:w);else{var J=z&&z.replace(w,"").trim();J?D.setAttribute(m,J):D.removeAttribute(m)}})}}function U(){if(!(g||!o.props.aria.expanded)){var c=Ae(o.props.triggerTarget||e);c.forEach(function(m){o.props.interactive?m.setAttribute("aria-expanded",o.state.isVisible&&m===M()?"true":"false"):m.removeAttribute("aria-expanded")})}}function de(){I().removeEventListener("mousemove",k),nt=nt.filter(function(c){return c!==k})}function te(c){if(!(re.isTouch&&(i||c.type==="mousedown"))){var m=c.composedPath&&c.composedPath()[0]||c.target;if(!(o.props.interactive&&Xt(v,m))){if(Ae(o.props.triggerTarget||e).some(function(w){return Xt(w,m)})){if(re.isTouch||o.state.isVisible&&o.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[o,c]);o.props.hideOnClick===!0&&(o.clearDelayTimeouts(),o.hide(),l=!0,setTimeout(function(){l=!1}),o.state.isMounted||ie())}}}function ve(){i=!0}function ae(){i=!1}function Z(){var c=I();c.addEventListener("mousedown",te,!0),c.addEventListener("touchend",te,he),c.addEventListener("touchstart",ae,he),c.addEventListener("touchmove",ve,he)}function ie(){var c=I();c.removeEventListener("mousedown",te,!0),c.removeEventListener("touchend",te,he),c.removeEventListener("touchstart",ae,he),c.removeEventListener("touchmove",ve,he)}function we(c,m){xe(c,function(){!o.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&m()})}function se(c,m){xe(c,m)}function xe(c,m){var w=T().box;function P(D){D.target===w&&(vt(w,"remove",P),m())}if(c===0)return m();vt(w,"remove",b),vt(w,"add",P),b=P}function le(c,m,w){w===void 0&&(w=!1);var P=Ae(o.props.triggerTarget||e);P.forEach(function(D){D.addEventListener(c,m,w),h.push({node:D,eventType:c,handler:m,options:w})})}function Ee(){R()&&(le("touchstart",Se,{passive:!0}),le("touchend",_e,{passive:!0})),Fn(o.props.trigger).forEach(function(c){if(c!=="manual")switch(le(c,Se),c){case"mouseenter":le("mouseleave",_e);break;case"focus":le(Zn?"focusout":"blur",Re);break;case"focusin":le("focusout",Re);break}})}function ze(){h.forEach(function(c){var m=c.node,w=c.eventType,P=c.handler,D=c.options;m.removeEventListener(w,P,D)}),h=[]}function Se(c){var m,w=!1;if(!(!o.state.isEnabled||Le(c)||l)){var P=((m=f)==null?void 0:m.type)==="focus";f=c,y=c.currentTarget,U(),!o.state.isVisible&&qn(c)&&nt.forEach(function(D){return D(c)}),c.type==="click"&&(o.props.trigger.indexOf("mouseenter")<0||u)&&o.props.hideOnClick!==!1&&o.state.isVisible?w=!0:Pe(c),c.type==="click"&&(u=!w),w&&!P&&me(c)}}function Xe(c){var m=c.target,w=M().contains(m)||v.contains(m);if(!(c.type==="mousemove"&&w)){var P=fe().concat(v).map(function(D){var z,J=D._tippy,Oe=(z=J.popperInstance)==null?void 0:z.state;return Oe?{popperRect:D.getBoundingClientRect(),popperState:Oe,props:r}:null}).filter(Boolean);Yn(P,c)&&(de(),me(c))}}function _e(c){var m=Le(c)||o.props.trigger.indexOf("click")>=0&&u;if(!m){if(o.props.interactive){o.hideWithInteractivity(c);return}me(c)}}function Re(c){o.props.trigger.indexOf("focusin")<0&&c.target!==M()||o.props.interactive&&c.relatedTarget&&v.contains(c.relatedTarget)||me(c)}function Le(c){return re.isTouch?R()!==c.type.indexOf("touch")>=0:!1}function Ye(){Je();var c=o.props,m=c.popperOptions,w=c.placement,P=c.offset,D=c.getReferenceClientRect,z=c.moveTransition,J=B()?wt(v).arrow:null,Oe=D?{getBoundingClientRect:D,contextElement:D.contextElement||M()}:e,Rt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(et){var ke=et.state;if(B()){var Cr=T(),lt=Cr.box;["placement","reference-hidden","escaped"].forEach(function(tt){tt==="placement"?lt.setAttribute("data-placement",ke.placement):ke.attributes.popper["data-popper-"+tt]?lt.setAttribute("data-"+tt,""):lt.removeAttribute("data-"+tt)}),ke.attributes.popper={}}}},ge=[{name:"offset",options:{offset:P}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!z}},Rt];B()&&J&&ge.push({name:"arrow",options:{element:J,padding:3}}),ge.push.apply(ge,(m==null?void 0:m.modifiers)||[]),o.popperInstance=Mn(Oe,v,Object.assign({},m,{placement:w,onFirstUpdate:A,modifiers:ge}))}function Je(){o.popperInstance&&(o.popperInstance.destroy(),o.popperInstance=null)}function ce(){var c=o.props.appendTo,m,w=M();o.props.interactive&&c===vr||c==="parent"?m=w.parentNode:m=mr(c,[w]),m.contains(v)||m.appendChild(v),o.state.isMounted=!0,Ye()}function fe(){return it(v.querySelectorAll("[data-tippy-root]"))}function Pe(c){o.clearDelayTimeouts(),c&&H("onTrigger",[o,c]),Z();var m=V(!0),w=E(),P=w[0],D=w[1];re.isTouch&&P==="hold"&&D&&(m=D),m?n=setTimeout(function(){o.show()},m):o.show()}function me(c){if(o.clearDelayTimeouts(),H("onUntrigger",[o,c]),!o.state.isVisible){ie();return}if(!(o.props.trigger.indexOf("mouseenter")>=0&&o.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(c.type)>=0&&u)){var m=V(!1);m?a=setTimeout(function(){o.state.isVisible&&o.hide()},m):s=requestAnimationFrame(function(){o.hide()})}}function $e(){o.state.isEnabled=!0}function Ke(){o.hide(),o.state.isEnabled=!1}function Ge(){clearTimeout(n),clearTimeout(a),cancelAnimationFrame(s)}function Qe(c){if(!o.state.isDestroyed){H("onBeforeUpdate",[o,c]),ze();var m=o.props,w=Yt(e,Object.assign({},m,qt(c),{ignoreAttributes:!0}));o.props=w,Ee(),m.interactiveDebounce!==w.interactiveDebounce&&(de(),k=Vt(Xe,w.interactiveDebounce)),m.triggerTarget&&!w.triggerTarget?Ae(m.triggerTarget).forEach(function(P){P.removeAttribute("aria-expanded")}):w.triggerTarget&&e.removeAttribute("aria-expanded"),U(),W(),L&&L(m,w),o.popperInstance&&(Ye(),fe().forEach(function(P){requestAnimationFrame(P._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[o,c])}}function Ze(c){o.setProps({content:c})}function Er(){var c=o.state.isVisible,m=o.state.isDestroyed,w=!o.state.isEnabled,P=re.isTouch&&!o.props.touch,D=pt(o.props.duration,0,ee.duration);if(!(c||m||w||P)&&!M().hasAttribute("disabled")&&(H("onShow",[o],!1),o.props.onShow(o)!==!1)){if(o.state.isVisible=!0,B()&&(v.style.visibility="visible"),W(),Z(),o.state.isMounted||(v.style.transition="none"),B()){var z=T(),J=z.box,Oe=z.content;dt([J,Oe],0)}A=function(){var ge;if(!(!o.state.isVisible||d)){if(d=!0,v.offsetHeight,v.style.transition=o.props.moveTransition,B()&&o.props.animation){var ut=T(),et=ut.box,ke=ut.content;dt([et,ke],D),zt([et,ke],"visible")}q(),U(),Ut(mt,o),(ge=o.popperInstance)==null||ge.forceUpdate(),H("onMount",[o]),o.props.animation&&B()&&se(D,function(){o.state.isShown=!0,H("onShown",[o])})}},ce()}}function Or(){var c=!o.state.isVisible,m=o.state.isDestroyed,w=!o.state.isEnabled,P=pt(o.props.duration,1,ee.duration);if(!(c||m||w)&&(H("onHide",[o],!1),o.props.onHide(o)!==!1)){if(o.state.isVisible=!1,o.state.isShown=!1,d=!1,u=!1,B()&&(v.style.visibility="hidden"),de(),ie(),W(!0),B()){var D=T(),z=D.box,J=D.content;o.props.animation&&(dt([z,J],P),zt([z,J],"hidden"))}q(),U(),o.props.animation?B()&&we(P,o.unmount):o.unmount()}}function kr(c){I().addEventListener("mousemove",k),Ut(nt,k),k(c)}function Ar(){o.state.isVisible&&o.hide(),o.state.isMounted&&(Je(),fe().forEach(function(c){c._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),mt=mt.filter(function(c){return c!==o}),o.state.isMounted=!1,H("onHidden",[o]))}function Tr(){o.state.isDestroyed||(o.clearDelayTimeouts(),o.unmount(),ze(),delete e._tippy,o.state.isDestroyed=!0,H("onDestroy",[o]))}}function qe(e,t){t===void 0&&(t={});var r=ee.plugins.concat(t.plugins||[]);Gn();var n=Object.assign({},t,{plugins:r}),a=Xn(e),s=a.reduce(function(u,l){var i=l&&so(l,n);return i&&u.push(i),u},[]);return ct(e)?s[0]:s}qe.defaultProps=ee;qe.setDefaultProps=no;qe.currentInput=re;Object.assign({},nr,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});qe.setDefaultProps({render:br});function yr(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var wr=typeof window<"u"&&typeof document<"u";function xt(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function Gt(){return wr&&document.createElement("div")}function co(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function xr(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(t.hasOwnProperty(r)){if(!xr(e[r],t[r]))return!1}else return!1;return!0}else return!1}function uo(e){var t=[];return e.forEach(function(r){t.find(function(n){return xr(r,n)})||t.push(r)}),t}function lo(e,t){var r,n;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:uo([].concat(((r=e.popperOptions)==null?void 0:r.modifiers)||[],((n=t.popperOptions)==null?void 0:n.modifiers)||[]))})})}var gt=wr?F.useLayoutEffect:F.useEffect;function fo(e){var t=F.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function Qt(e,t,r){r.split(/\s+/).forEach(function(n){n&&e.classList[t](n)})}var po={name:"className",defaultValue:"",fn:function(t){var r=t.popper.firstElementChild,n=function(){var l;return!!((l=t.props.render)!=null&&l.$$tippy)};function a(){t.props.className&&!n()||Qt(r,"add",t.props.className)}function s(){n()&&Qt(r,"remove",t.props.className)}return{onCreate:a,onBeforeUpdate:s,onAfterUpdate:a}}};function vo(e){function t(r){var n=r.children,a=r.content,s=r.visible,u=r.singleton,l=r.render,i=r.reference,d=r.disabled,f=d===void 0?!1:d,b=r.ignoreAttributes,A=b===void 0?!0:b;r.__source,r.__self;var h=yr(r,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),k=s!==void 0,y=u!==void 0,x=F.useState(!1),N=x[0],S=x[1],j=F.useState({}),o=j[0],C=j[1],v=F.useState(),L=v[0],O=v[1],g=fo(function(){return{container:Gt(),renders:1}}),E=Object.assign({ignoreAttributes:A},h,{content:g.container});k&&(E.trigger="manual",E.hideOnClick=!1),y&&(f=!0);var R=E,B=E.plugins||[];l&&(R=Object.assign({},E,{plugins:y&&u.data!=null?[].concat(B,[{fn:function(){return{onTrigger:function(V,W){var H=u.data.children.find(function(q){var U=q.instance;return U.reference===W.currentTarget});V.state.$$activeSingletonInstance=H.instance,O(H.content)}}}}]):B,render:function(){return{popper:g.container}}}));var M=[i].concat(n?[n.type]:[]);return gt(function(){var I=i;i&&i.hasOwnProperty("current")&&(I=i.current);var T=e(I||g.ref||Gt(),Object.assign({},R,{plugins:[po].concat(E.plugins||[])}));return g.instance=T,f&&T.disable(),s&&T.show(),y&&u.hook({instance:T,content:a,props:R,setSingletonContent:O}),S(!0),function(){T.destroy(),u==null||u.cleanup(T)}},M),gt(function(){var I;if(g.renders===1){g.renders++;return}var T=g.instance;T.setProps(lo(T.props,R)),(I=T.popperInstance)==null||I.forceUpdate(),f?T.disable():T.enable(),k&&(s?T.show():T.hide()),y&&u.hook({instance:T,content:a,props:R,setSingletonContent:O})}),gt(function(){var I;if(l){var T=g.instance;T.setProps({popperOptions:Object.assign({},T.props.popperOptions,{modifiers:[].concat((((I=T.props.popperOptions)==null?void 0:I.modifiers)||[]).filter(function(V){var W=V.name;return W!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(W){var H,q=W.state,U=(H=q.modifiersData)==null?void 0:H.hide;(o.placement!==q.placement||o.referenceHidden!==(U==null?void 0:U.isReferenceHidden)||o.escaped!==(U==null?void 0:U.hasPopperEscaped))&&C({placement:q.placement,referenceHidden:U==null?void 0:U.isReferenceHidden,escaped:U==null?void 0:U.hasPopperEscaped}),q.attributes.popper={}}}])})})}},[o.placement,o.referenceHidden,o.escaped].concat(M)),p.createElement(p.Fragment,null,n?F.cloneElement(n,{ref:function(T){g.ref=T,xt(n.ref,T)}}):null,N&&Sr.createPortal(l?l(co(o),L,g.instance):a,g.container))}return t}var mo=function(e,t){return F.forwardRef(function(n,a){var s=n.children,u=yr(n,["children"]);return p.createElement(e,Object.assign({},t,u),s?F.cloneElement(s,{ref:function(i){xt(a,i),xt(s.ref,i)}}):null)})},go=mo(vo(qe));const St=go,Zt=({onClick:e=()=>{},onRemoveClicked:t,radioName:r=null,isParent:n=!1,...a})=>{const s=Number(a.descuento)||0,u=Number(a.precio)||0,l=s>0?s:u;return p.createElement("a",{href:"#",className:"flex items-center px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 w-full",onClick:i=>e(i,a)},p.createElement("div",{className:"flex-shrink-0"},p.createElement("img",{className:"rounded-md w-11 h-11",src:`/${a.imagen}`,alt:"Robert image",onError:i=>i.target.src="/images/img/noimagen.jpg"})),p.createElement("div",{className:"w-full ps-3"},p.createElement("div",{className:"text-gray-500 text-sm mb-1.5 dark:text-gray-400 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,textOverflow:"ellipsis",WebkitBoxOrient:"vertical",height:"40px"}},r&&p.createElement(St,{content:"Marcar como producto principal"},p.createElement("input",{className:"mx-1 cursor-pointer",type:"radio",name:r,defaultChecked:n,value:a.id,required:!0})),p.createElement("span",{className:"font-semibold text-gray-900 dark:text-white"},a.sku&&p.createElement("span",{class:"bg-blue-100 text-blue-800 text-xs font-medium me-1 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300"},a.sku),a.producto)," ",a.description||p.createElement("i",{className:"text-gray-400"},"- Sin Descripcion -")),p.createElement("div",{className:"text-xs font-semibold text-blue-600 dark:text-blue-500"},"S/. ",l.toFixed(2))),t&&p.createElement("div",{className:"flex-shrink-0 ps-3"},p.createElement("i",{className:"fa fa-trash cursor-pointer",onClick:()=>t(a.id)})))},ho={content:{width:"400px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"calc(100vh - 140px)"}},bo=({data:e,setData:t,refreshOffers:r})=>{let n=new AbortController;const a=F.useRef(),s=F.useRef(),u=F.useRef(),l=F.useRef(),i=F.useRef(),d=F.useRef(),[f,b]=F.useState([]),[A,h]=F.useState([]),[k,y]=F.useState(!1),[x,N]=F.useState(!1),S=f.reduce((O,g)=>(Number(g.descuento)||0)>0?O+Number(g.descuento):O+Number(g.precio),0);F.useEffect(()=>{e!=null?y(!0):y(!1),console.log("temrino de cargar")},[e]);const j=async O=>{O.preventDefault();try{const{status:g,result:E}=await Be.Fetch("/api/offers",{method:"PATCH",body:Be.JSON.stringify({id:a.current.value,producto:s.current.value,precio:S,descuento:l.current.value,parent_id:$('input[name="isParent"]:checked').val()??null,products:structuredClone(f).map(({id:R})=>R)})});if(!g)throw new Error((E==null?void 0:E.message)??"Ocurrio un error al guardar el combo");y(!1),t(null),r()}catch(g){Swal.fire("¡Error!",g.message,"error")}},o=()=>{a.current.value=(e==null?void 0:e.id)??"",s.current.value=(e==null?void 0:e.producto)??"",l.current.value=(e==null?void 0:e.descuento)??0,u.current.value=S??0,b((e==null?void 0:e.products)??[])},C=async()=>{n.abort("Nothing");const O=[[Lt([["products.producto","contains",d.current.value],["products.sku","contains",d.current.value]],"or")]];f.length>0&&O.push("and",["!",Lt(f.map(({id:B})=>["products.id","=",B]))]),n=new AbortController;const g=n.signal,E=await fetch("/api/products/paginate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(Cookies.get("XSRF-TOKEN"))},body:Be.JSON.stringify({filter:O}),signal:g}),R=Be.JSON.parseable(await E.text());E.ok?h(R.data):h([])},v=async(O,g)=>{O.preventDefault();const E=structuredClone(f);E.push(g),b(E),d.current.value="",N(!1)},L=async O=>{const g=structuredClone(f).filter(({id:E})=>E!=O);b(g)};return p.createElement(er,{isOpen:k,style:ho,onAfterOpen:o,onRequestClose:()=>t(null)},p.createElement("form",{onSubmit:j},p.createElement("input",{type:"hidden",name:"id",ref:a,value:e==null?void 0:e.id}),p.createElement("div",{className:"flex flex-row items-center justify-between gap-2 mb-2"},p.createElement("h4",{className:"text-lg font-semibold"},e!=null&&e.id?"Actualizar combo":"Nuevo combo"),p.createElement("div",{className:"flex gap-1"},p.createElement("button",{type:"submit",className:"px-3 py-2 text-xs font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},p.createElement("i",{className:"fa fa-save"})),p.createElement("button",{type:"button",className:"px-3 py-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",onClick:()=>y(!1)},p.createElement("i",{className:"fa fa-times"})))),p.createElement("div",{className:"w-full grid grid-cols-2 gap-4"},p.createElement("div",{className:"col-span-2"},p.createElement("label",{htmlFor:"offer-name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nombre del combo"),p.createElement("input",{ref:s,type:"text",id:"offer-name","aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ej. Combo gamer",required:!0})),p.createElement("div",null,p.createElement("label",{htmlFor:"offer-precio",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Precio total"),p.createElement("input",{ref:u,type:"number",id:"offer-precio","aria-describedby":"helper-text-explanation",className:"bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"0.00",step:.01,disabled:!0,value:S,required:!0})),p.createElement("div",null,p.createElement("label",{htmlFor:"offer-oferta",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Precio del combo"),p.createElement(St,{content:"Este precio se le cobrara al cliente al llevar el combo"},p.createElement("input",{ref:l,type:"number",id:"offer-oferta","aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"0.00",step:.01,required:!0})))),p.createElement("hr",{className:"my-4"}),p.createElement("div",{className:"relative flex flex-col items-center justify-between gap-2"},p.createElement("h4",{className:"text-lg font-normal"},"Lista de productos"),p.createElement("button",{type:"button","data-dropdown-toggle":"dropdownResults",className:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-3 py-1 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:()=>N(!x)},x?p.createElement("i",{className:"fa fa-times me-1"}):p.createElement("i",{className:" fa fa-plus me-1"}),x?"Ocultar":"Agregar"),p.createElement("div",{ref:i,id:"dropdownResults",className:`z-20 ${x?"block":"hidden"} absolute top-20 w-full max-w-sm bg-white divide-y divide-gray-100 rounded-lg dark:bg-gray-800 dark:divide-gray-700`,"aria-labelledby":"dropdownResultsButton",style:{boxShadow:"0 0 10px rgba(0, 0, 0, .25)"}},p.createElement("div",{className:"block p-2 font-medium text-center text-gray-700 rounded-t-lg bg-gray-50 dark:bg-gray-800 dark:text-white"},p.createElement("input",{ref:d,type:"text",id:"small-input",className:"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Buscar producto",onChange:C})),p.createElement("div",{className:"divide-y divide-gray-100 dark:divide-gray-700"},A.length>0?A.map((O,g)=>p.createElement(Zt,{key:`result-${g}`,...O,onClick:v})):p.createElement("i",{className:"block text-gray-400 m-2 max-w-max mx-auto"},"- No hay resultados -"))),p.createElement("div",null,f.sort((O,g)=>{var E,R;return(((E=g==null?void 0:g.pivot)==null?void 0:E.isParent)||0)-(((R=O==null?void 0:O.pivot)==null?void 0:R.isParent)||0)}).map((O,g)=>p.createElement(Zt,{key:`item-${g}`,...O,radioName:"isParent",isParent:g==0,onRemoveClicked:L}))))))};er.setAppElement("body");const yo=({offers:e})=>{const t=F.useRef(),[r,n]=F.useState(e),[a,s]=F.useState(null),u=i=>{s(i)},l=async()=>{location.reload()};return p.createElement(p.Fragment,null,p.createElement("div",{className:"p-8 flex flex-col gap-6 justify-center items-center min-h-[calc(100vh-64px)] bg-gray-100"},p.createElement(St,{content:"Agregar combo"},p.createElement("button",{type:"button",className:"text-blue-700 border border-blue-700 hover:bg-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-sm p-4 text-center inline-flex items-center dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:focus:ring-blue-800 dark:hover:bg-blue-500",onClick:u},p.createElement("i",{className:"fa fa-plus"}))),p.createElement("ul",{className:"flex flex-wrap w-full gap-6 items-center justify-center"},r.length>0&&r.map((i,d)=>p.createElement(Rr,{key:d,item:i,setItem:s,onOpenModalClicked:u,offers:r,setOffers:n})))),p.createElement(bo,{eRef:t,data:a,setData:s,refreshOffers:l}))};Dr((e,t)=>{Nr(e).render(p.createElement(yo,{...t}))});
